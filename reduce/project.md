### ionic APP

#### 布局
app是一个典型的header-body-footer的结构，其中
- header高度固定
- body是内容填充区域，内容多的时候可以滚动展示
- footer固定高度，永远吸底

当时没有给app抽象出几个典型的抽象布局组件，每个主路由页都重复描述布局，且布局用的是vh、vw绝对布局，无法避免刘海屏的问题

现在看来可以改进的地方
- 抽象几个典型的布局组件
- 布局组件的height可以通过html、body 100%的方式来布局
- 可以借助env()函数和safe-area-inset-top等内置的变量还保障内容显示在特定区域
- body内容区域的刷新只能通过header中tab的切换来达成，其实可以做一些下拉刷新
- 切换tab的时候，由于后端接口对tab的建模是query参数，所以存在竟态问题，现在有更成熟的解决方案
- 切换tab拉取接口的时候，需要再body内容区域做loading看起来更好，这些都可以集中在布局组件内


#### 状态流转

这个项目起的很着急，很多地方都是别人搭起来的，谈不上设计，状态管理虽然引入了全局store，但是存在很大的问题。状态没有区分，要么一股脑倒入全局store，要么一股脑通过vue router的参数来传递


现在看起来可以改进的地方
- 一些重复刷新可进入，可分享的页面，最好通过url参数的形式的来做
- 将状态划分为全局store状态和局部页面状态至关重要，这个可能要依赖经验和项目的定位
- 整个app的全局store状态流转，其实就是状态机，所以可以引入有限状态自动机的方式来描述整个app的页面
- 状态机的core可以先简单一些，但是保留扩展性，后续可以慢慢加入状态迭代


#### 权限问题

